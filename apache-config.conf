# Apache Virtual Host Configuration for SmallTime v3
# Place this file in /etc/apache2/sites-available/donsmoore-timeclock-v3.conf
# Then enable it with: sudo a2ensite donsmoore-timeclock-v3.conf
# Enable required modules: sudo a2enmod rewrite headers
# Restart Apache: sudo systemctl restart apache2

<VirtualHost *:80>
    ServerName donsmoore.com
    ServerAlias www.donsmoore.com
    
    # Document root for the timeclock v3 application
    DocumentRoot /var/www/html/donsmoore.com/timeclock/v3/public
    
    <Directory /var/www/html/donsmoore.com/timeclock/v3/public>
        Options -Indexes +FollowSymLinks
        AllowOverride All
        Require all granted
        
        # Laravel rewrite rules
        RewriteEngine On
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteCond %{REQUEST_FILENAME} !-d
        RewriteRule ^ index.php [L]
    </Directory>
    
    # Logging
    ErrorLog ${APACHE_LOG_DIR}/donsmoore-timeclock-v3-error.log
    CustomLog ${APACHE_LOG_DIR}/donsmoore-timeclock-v3-access.log combined
    
    # Security headers (optional but recommended - requires headers module)
    # Uncomment these lines after enabling headers module: sudo a2enmod headers
    # Header always set X-Content-Type-Options "nosniff"
    # Header always set X-Frame-Options "SAMEORIGIN"
    # Header always set X-XSS-Protection "1; mode=block"
</VirtualHost>

# If you want to use SSL/HTTPS, uncomment and configure below:
# <VirtualHost *:443>
#     ServerName donsmoore.com
#     ServerAlias www.donsmoore.com
#     
#     DocumentRoot /var/www/html/donsmoore.com/timeclock/v3/public
#     
#     SSLEngine on
#     SSLCertificateFile /path/to/your/certificate.crt
#     SSLCertificateKeyFile /path/to/your/private.key
#     
#     <Directory /var/www/html/donsmoore.com/timeclock/v3/public>
#         Options -Indexes +FollowSymLinks
#         AllowOverride All
#         Require all granted
#         
#         RewriteEngine On
#         RewriteCond %{REQUEST_FILENAME} !-f
#         RewriteCond %{REQUEST_FILENAME} !-d
#         RewriteRule ^ index.php [L]
#     </Directory>
#     
#     ErrorLog ${APACHE_LOG_DIR}/donsmoore-timeclock-v3-ssl-error.log
#     CustomLog ${APACHE_LOG_DIR}/donsmoore-timeclock-v3-ssl-access.log combined
# </VirtualHost>

